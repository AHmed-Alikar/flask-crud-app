{% extends 'base.html'%}

{% block head%}
<title>Auth</title>
{% endblock%}

{% block body%}
<div class="container" >
    <div class="auth-container">
        <h1>Authentication</h1>
        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}
        <form id="auth_form" action="{{url_for('login')}}" method="POST">
            <input type="text" name="username" placeholder="Username" class="input-field" />
            <input type="password" name="password" placeholder="Password" class="input-field" />
            <input type="submit" value="Login" class="btn btn-primary" onclick="actionFormBtn('login')" />
            <input type="button" value="Register" class="btn btn-secondary" onclick="actionFormBtn('register')" />
        </form>
    </div>
</div>



<script>
    const actionFormBtn = (action) => {
        let form = document.getElementById("auth_form")
        if (action === 'login') {
            form.action = "{{url_for('login')}}"
            form.method = "POST"
            form.submit();
        } else if (action === 'register') {
            form.action = "{{url_for('register')}}"
            form.method = "POST"
            form.submit();

        }

    }
</script>
{% endblock%}